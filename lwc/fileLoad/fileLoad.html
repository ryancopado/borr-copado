<template>
  <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
    <div class="slds-modal__container modalContainer">
      <template if:true={showLoadingSpinner}>
        <lightning-spinner alternative-text="Loading"></lightning-spinner>
      </template>  
      <header class="slds-modal__header">
        <button type="button" class="slds-button slds-button_icon slds-modal__close slds-button_icon" title="Close" onclick={handleCloseModal}>
          <lightning-icon icon-name="utility:close" variant="inverse" alternative-text="close" ></lightning-icon>
          <span class="slds-assistive-text">Close</span>
        </button>
        <h2 id="modal-heading-01" class="slds-text-heading_large slds-hyphenate">Upload File(s)</h2>
      </header>
      <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
        <template if:true={fileId}>
            <div>{uploadFileName}</div>
        </template>
        <template if:true={canSetName}>
          <lightning-input type="text" label="File Name" placeholder="name ..." onchange={handleFileName}></lightning-input>
        </template>
        <template if:true={fileId}>
          <lightning-input 
            type="file"
            label="selectFile"
            variant="label-hidden"
            onchange={handleFilesChange}>
          </lightning-input>
        </template>
        <template if:false={fileId}>
          <lightning-input 
            type="file"
            label="selectFile"
            variant="label-hidden"
            onchange={handleFilesChange}
            multiple>
          </lightning-input>
        </template>
      </div>
      <footer class="slds-modal__footer">
        <div class="slds-align_absolute-center buttonGroup">
          <lightning-button type="button" label="Cancel" class="slds-m-top_medium" onclick={handleCloseModal}></lightning-button>
          <lightning-button type="button" class="slds-m-top--medium slds-p-left--small" label="Upload" onclick={handleSave} variant="brand" disabled={disableSave}></lightning-button>
          
        </div>
      </footer>
    </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>