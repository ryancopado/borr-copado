<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <comment>Action override created by Lightning App Builder during activation.</comment>
        <content>Analysis_Request_Record_Page</content>
        <formFactor>Large</formFactor>
        <skipRecordTypeSelect>false</skipRecordTypeSelect>
        <type>Flexipage</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <description>allows for users to make a request to have analysis done from the sales analyst team</description>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>Analyst_Notes__c</fullName>
        <description>Notes regarding the request entered by Sales Analyst working on the request</description>
        <externalId>false</externalId>
        <inlineHelpText>Notes regarding the request entered by Sales Analyst working on the request</inlineHelpText>
        <label>Analyst Notes</label>
        <length>32768</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>5</visibleLines>
    </fields>
    <fields>
        <fullName>Annual_kWh_usage__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Annual_kWh_usage__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Annual kWh usage</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Date_Completed__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Date stamps when the request status was moved to completed</inlineHelpText>
        <label>Date Completed</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Date_Submitted__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Date Stamps the date Status was changed to Submit</inlineHelpText>
        <label>Date Submitted</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Detailed_Description__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Should include the specifics of what you are requesting analyst to do</inlineHelpText>
        <label>Detailed Description</label>
        <length>32768</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>5</visibleLines>
    </fields>
    <fields>
        <fullName>Link_to_Completed_Analysis__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>should contain the link to where the analysis information is located</inlineHelpText>
        <label>Link to Completed Analysis</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Url</type>
    </fields>
    <fields>
        <fullName>Link_to_Customer_Data__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Customer interval data is required in order to process an energy storage analyst request.</inlineHelpText>
        <label>Link to Customer Data</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Url</type>
    </fields>
    <fields>
        <fullName>Opportunity__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>opportunity associated with the request</inlineHelpText>
        <label>Opportunity</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>Analysis Requests</relationshipLabel>
        <relationshipName>Analysis_Requests</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>PSD_Link__c</fullName>
        <externalId>false</externalId>
        <label>PSD Link</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Url</type>
    </fields>
    <fields>
        <fullName>Peak_demand__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Peak_demand__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Peak demand</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Production_Model__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>indicate whether you have this item available at the time request was created. If not applicable select No.</inlineHelpText>
        <label>Production Model</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Yes</fullName>
                    <default>false</default>
                    <label>Yes</label>
                </value>
                <value>
                    <fullName>No</fullName>
                    <default>false</default>
                    <label>No</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Request_Status__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Must move status to Submit in order for analyst to receive the request.</inlineHelpText>
        <label>Request Status</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>New</fullName>
                    <default>true</default>
                    <label>New</label>
                </value>
                <value>
                    <fullName>Submitted</fullName>
                    <default>false</default>
                    <label>Submitted</label>
                </value>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                    <label>In Progress</label>
                </value>
                <value>
                    <fullName>Need More Information</fullName>
                    <default>false</default>
                    <label>Need More Information</label>
                </value>
                <value>
                    <fullName>Completed</fullName>
                    <default>false</default>
                    <label>Completed</label>
                </value>
                <value>
                    <fullName>Cancelled</fullName>
                    <default>false</default>
                    <label>Cancelled</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Requested_Due_Date__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Date request is needed by.  Allow at least 2 business days to complete the request.
Allow at least 3 business days if Type = Meter Aggregation Model.</inlineHelpText>
        <label>Requested Due Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Simple_payback_on_a_cash_system__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Simple_payback_on_a_cash_system__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Simple payback on a cash system</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>System_Type__c</fullName>
        <externalId>false</externalId>
        <label>System Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MultiselectPicklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Roof</fullName>
                    <default>false</default>
                    <label>Roof</label>
                </value>
                <value>
                    <fullName>Ground</fullName>
                    <default>false</default>
                    <label>Ground</label>
                </value>
                <value>
                    <fullName>Tracker</fullName>
                    <default>false</default>
                    <label>Tracker</label>
                </value>
                <value>
                    <fullName>SSS</fullName>
                    <default>false</default>
                    <label>SSS</label>
                </value>
            </valueSetDefinition>
        </valueSet>
        <visibleLines>4</visibleLines>
    </fields>
    <fields>
        <fullName>Type__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>select option that best describes your request, put detailed notes in the Notes section as needed.</inlineHelpText>
        <label>Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MultiselectPicklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Proposal tool</fullName>
                    <default>false</default>
                    <label>Proposal tool</label>
                </value>
                <value>
                    <fullName>Avoided cost analysis</fullName>
                    <default>false</default>
                    <label>Avoided cost analysis</label>
                </value>
                <value>
                    <fullName>Meter aggregation model</fullName>
                    <default>false</default>
                    <label>Meter aggregation model</label>
                </value>
                <value>
                    <fullName>RES-BCT analysis</fullName>
                    <default>false</default>
                    <label>RES-BCT analysis</label>
                </value>
                <value>
                    <fullName>Interval Analysis</fullName>
                    <default>false</default>
                    <label>Interval Analysis</label>
                </value>
                <value>
                    <fullName>Energy Storage</fullName>
                    <default>false</default>
                    <label>Energy Storage</label>
                </value>
            </valueSetDefinition>
        </valueSet>
        <visibleLines>5</visibleLines>
    </fields>
    <fields>
        <fullName>Utility_Bills__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>indicate whether you have this item available at the time request was created.  If not applicable select No.</inlineHelpText>
        <label>Utility Bills</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Yes</fullName>
                    <default>false</default>
                    <label>Yes</label>
                </value>
                <value>
                    <fullName>No</fullName>
                    <default>false</default>
                    <label>No</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>of_days_to_complete_request__c</fullName>
        <externalId>false</externalId>
        <formula>Date_Completed__c -  Date_Submitted__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <inlineHelpText>auto calculates # days between date it was submitted and date is was completed</inlineHelpText>
        <label># of days to complete request</label>
        <precision>18</precision>
        <required>false</required>
        <scale>1</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <label>Analysis Request</label>
    <nameField>
        <displayFormat>AR - {000000}</displayFormat>
        <label>Analysis Request Number</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Analysis Request</pluralLabel>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <startsWith>Vowel</startsWith>
    <validationRules>
        <fullName>Analysis_Request_RequiredDueDate_restric</fullName>
        <active>true</active>
        <description>restricts users from populating today or tomorrow</description>
        <errorConditionFormula>AND(OR(ISPICKVAL( Request_Status__c, &quot;New&quot;),
ISPICKVAL(Request_Status__c, &quot;Submitted&quot;),
ISPICKVAL(Request_Status__c, &quot;Canceled&quot;)),
OR(Requested_Due_Date__c  = TODAY(), Requested_Due_Date__c  = TODAY()+1))</errorConditionFormula>
        <errorDisplayField>Requested_Due_Date__c</errorDisplayField>
        <errorMessage>Please allow at least 2 days to process your request</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Energy_Storage_Type</fullName>
        <active>true</active>
        <description>If energy storage is selected type, link to interval data in box becomes a required field</description>
        <errorConditionFormula>AND( 
INCLUDES( Type__c , &quot;Energy Storage&quot;), 
 Link_to_Customer_Data__c  = null)</errorConditionFormula>
        <errorDisplayField>Link_to_Customer_Data__c</errorDisplayField>
        <errorMessage>Link to Customer Data is required when Energy Storage is selected as type</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
</CustomObject>
